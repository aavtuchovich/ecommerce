<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:replace="fragments/head :: head"></head>
<body>

<div th:replace="fragments/webstore :: webstore"></div>
<nav th:replace="fragments/nav :: nav"></nav>


<div class="container">
    <div class="page-title">Подтверждение заказа</div>
    <div class="customer-info-container">
        <h3>Информация о заказчике:</h3>
        <ul>
            <li>Имя: <span th:utext="${myCart.customerInfo.name}"></span></li>
            <li>Email: <span th:utext="${myCart.customerInfo.email}"></span></li>
            <li>Телефон: <span th:utext="${myCart.customerInfo.phone}"></span></li>
            <li>Адрес: <span th:utext="${myCart.customerInfo.address}"></span></li>
        </ul>
        <h3>Обзор корзины:</h3>
        <ul>
            <li>Кол-во: <span th:utext="${myCart.quantityTotal}"></span></li>
            <li>Сумма:
                <span class="total"
                      th:utext="${#numbers.formatDecimal(myCart.amountTotal,3,2,'COMMA')}">
               </span>
            </li>
        </ul>
    </div>
    <form method="POST" th:action="@{/shoppingCartConfirmation}">
        <!-- Edit Cart -->
        <a class="navi-item" th:href="@{/shoppingCart}">
            Изменить заказ
        </a>
        <!-- Edit Customer Info -->
        <a class="navi-item" th:href="@{/shoppingCartCustomer}">
           Изменить информацию заказчика
        </a>
        <!-- Send/Save -->
        <input type="submit" value="Сохранить" class="button-send-sc"/>
    </form>
    <div class="container">
        <div class="product-preview-container" th:each="cartLineInfo : ${myCart.cartLines}">
            <ul>
                <li>
                    <img class="product-image"
                         th:src="@{|/productImage?code=${cartLineInfo.productInfo.code}|}"/>
                </li>
                <li>
                    Код: <span th:utext="${cartLineInfo.productInfo.code}"></span>
                    <input
                            type="hidden" name="code" th:value="${cartLineInfo.productInfo.code}"/>
                </li>
                <li>Название: <span th:utext="${cartLineInfo.productInfo.name}"></span></li>
                <li>Цена:
                    <span class="price"
                          th:utext="${#numbers.formatDecimal(cartLineInfo.productInfo.price,3,2,'COMMA')}">
                  </span>
                </li>
                <li>Кол-во: <span th:utext="${cartLineInfo.quantity}"></span></li>
                <li>Сумма:
                    <span class="subtotal"
                          th:utext="${#numbers.formatDecimal(cartLineInfo.amount,3,2,'COMMA')}">
                  </span>
                </li>
            </ul>
        </div>
    </div>
</div>

<br><br>

<footer th:replace="fragments/footer :: footer"></footer>
</body>
</html>
